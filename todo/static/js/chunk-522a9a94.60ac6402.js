(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-522a9a94"],{"6ba9":function(t,e,n){"use strict";var a=n("cabc"),r=n.n(a);r.a},cabc:function(t,e,n){},ede4:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page"},[n("div",{staticClass:"logo-wrap"},[n("svg-icon",{staticClass:"logo",attrs:{"icon-class":"login_pic"}})],1),t._v(" "),n("div",{staticClass:"page-content"},[n("form",{staticClass:"login-form",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.throttleLogin()}}},[n("h-form",{ref:"form",attrs:{formStyle:t.formStyle},model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}}),t._v(" "),n("div",{staticClass:"bottom"},[n("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]}),t._v(" "),n("h-button",{staticClass:"submit-btn",attrs:{round:"",type:"submit"}},[t._v("\n          登录\n        ")]),t._v(" "),n("div",{staticClass:"text"},[t._v("\n          本应用仅用于展示\n        ")])],1)],1)])])},r=[],s=(n("96cf"),n("3b8d")),o=n("cebc"),i=n("8654"),c=n("ca00"),u=n("3fa5"),l=n("2f62"),f={name:"login",data:function(){return{loading:!1,wait:2e3,throttleLogin:null,formData:{nickname:"",password:""},formStyle:{items:[{field:"nickname",name:"账号",required:!0,type:"string",length:200,formComponent:"input"},{field:"password",name:"密码",required:!0,type:"string",length:200,formComponent:"input",formInputType:"password"}]}}},methods:Object(o["a"])({login:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.formData,n=e.nickname,a=e.password,t.prev=1,this.loading=!0,t.next=5,i["a"].getToken(n,a);case 5:return t.next=7,this.getInformation();case 7:this.loading=!1,this.$router.push({name:"today"}),Object(u["d"])("登录成功"),t.next=16;break;case 12:t.prev=12,t.t0=t["catch"](1),this.loading=!1,console.log(t.t0);case 16:case"end":return t.stop()}},t,this,[[1,12]])}));function e(){return t.apply(this,arguments)}return e}(),getInformation:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i["a"].getAuths();case 3:e=t.sent,this.setUserAndState(e),this.setUserAuths(e.auths),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[0,8]])}));function e(){return t.apply(this,arguments)}return e}()},Object(l["b"])(["setUserAndState"]),Object(l["c"])({setUserAuths:"SET_USER_AUTHS"})),created:function(){this.throttleLogin=c["a"].throttle(this.login,this.wait)},components:{}},m=f,p=(n("6ba9"),n("2877")),h=Object(p["a"])(m,a,r,!1,null,null,null);e["default"]=h.exports}}]);